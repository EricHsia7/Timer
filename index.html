<meta charset="UTF-8">
<title>Timer</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
<style>
input {
  width:180px;
  height:45px;
  border:1px #000 solid;
  -webkit-appearance:none;
outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);
  border-radius:12px;
  font-size:16px;
}
.m10 {
  margin-top:10px
}
.bg {
  position:fixed;
  left:0px;
  top:0px;
  width:100%;
  height:100%;
  background:#fff;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction:column;
}
.btn {
  width:180px;
  height:45px;
  background:#333;
  border-radius:12px;
  display: flex;
  justify-content: center;
  align-items: center;
  color:#fff;
  font-size:16px;
}
  .color_box {
  width:180px;
  height:90px;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  flex-wrap:wrap;
  flex-direction:row;
}
.color_box .co {
  height:45px;
  width:45px;
  background:var(--co-color);
  transform:scale(0.9);
  border-radius:10px;
  position:relative;
  outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);
}
.color_box .co[s="1"]::after {
  content:'\f00c';
  height:45px;
  width:45px;
  background:rgba(0,0,0,0);
  transform:scale(1);
  border-radius:10px;
  position:absolute;
  top:0px;
  left:0px;
  font-family: "Font Awesome 5 Free";
  display: flex;
  justify-content: center;
  align-items: center;
  color:#fff;
  font-size:15px;
  outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);
}
  
   @media (prefers-color-scheme: dark) {
    .bg ,body{
  background:#1a1a1a;
    }
     input {
border:1px #fff solid;
color:#fff;
background:#1a1a1a;
}
     .btn {
background:#1f1f1f;
}
}
</style>

<div class="bg">
<input type="datetime-local" id="time">
  
<div class="color_box m10">
  <div class="co" style="--co-color:#1e3c4f"></div>
  <div class="co" style="--co-color:#244e52"></div>
  <div class="co" style="--co-color:#2a9d8f"></div>
  <div class="co" style="--co-color:#2a9d8f" s="1" id="def"></div>
  <div class="co" style="--co-color:#49a18a"></div>
  <div class="co" style="--co-color:#efb366"></div>
  <div class="co" style="--co-color:#f2834f"></div>
  <div class="co" style="--co-color:#f91c15"></div>
</div>
 
<input type="text" id="url" readonly="readonly" class="m10">
  <div class="btn m10" ripple-onclick="copy()">複製連結</div>
</div>

<script src="https://erichsia7.github.io/ripple.js/ripple.min.js"></script>
<script>
Date.prototype.yyyymmdd = function() {
  var mm = this.getMonth() + 1; 
  var dd = this.getDate();
  var hh = this.getHours() ;
  var mmm = this.getMinutes() ;
  var ss = this.getSeconds() ;
  
  return [this.getFullYear(),
          (mm>9 ? '' : '0') + mm,
          (dd>9 ? '' : '0') + dd
         ].join('-') + 'T' + [(hh>9 ? '' : '0') + hh,
          (mmm>9 ? '' : '0') + mmm,
          (ss>9 ? '' : '0') + ss
         ].join(':');
};

document.querySelector('#time').addEventListener('change', updateValue);
function updateValue() {
  var date = new Date();
 var gtu = (document.querySelector('#time').value + ':00').toString() ;
  var ur = 'https://erichsia7.github.io/Timer/d/?t1=' + date.yyyymmdd() + '&t2=' + gtu + '&c=' + $('.co[s="1"]').attr('style').split('#')[1].split(';')[0] ;
document.querySelector('#url').value = ur ;
}
function copy() {
  document.querySelector('#url').select();
  document.execCommand("Copy");
}
  $(document).ready(function() {
ripple('.btn','#fff','0.4',1200,'true');
ripple('.co','#fff','0.4',888,'true');
    
  $('.co').click(function() {
  $('.co').attr('s','0');
  $(this).attr('s','1');
    updateValue()
});
    $('#def').click()
  });
</script>
