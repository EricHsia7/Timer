<meta charset="UTF-8">
<title>Timer</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
input {
  width:180px;
  height:45px;
  border:1px #000 solid;
  -webkit-appearance:none;
outline:none; -webkit-tap-highlight-color:rgba(0,0,0,0);
  border-radius:12px;
  font-size:16px;
}
.m10 {
  margin-top:10px
}
.bg {
  position:fixed;
  left:0px;
  top:0px;
  width:100%;
  height:100%;
  background:#fff;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction:column;
}
.btn {
  width:180px;
  height:45px;
  background:#333;
  border-radius:12px;
  display: flex;
  justify-content: center;
  align-items: center;
  color:#fff;
  font-size:16px;
}
</style>

<div class="bg">
<input type="datetime-local" id="time">
<input type="text" id="url" readonly="readonly" class="m10">
  <div class="btn m10" ripple-onclick="copy()">複製連結</div>
</div>

<script src="https://erichsia7.github.io/ripple.js/ripple.min.js"></script>
<script>
Date.prototype.yyyymmdd = function() {
  var mm = this.getMonth() + 1; // getMonth() is zero-based
  var dd = this.getDate();
  var hh = this.getHours() ;
  var mmm = this.getMinutes() ;
  var ss = this.getSeconds() ;
  
  return [this.getFullYear(),
          (mm>9 ? '' : '0') + mm,
          (dd>9 ? '' : '0') + dd
         ].join('-') + 'T' + [(hh>9 ? '' : '0') + hh,
          (mmm>9 ? '' : '0') + mmm,
          (ss>9 ? '' : '0') + ss
         ].join(':');
};

var date = new Date();



document.querySelector('#time').addEventListener('change', updateValue);

function updateValue(e) {
 var gtu = (document.querySelector('#time').value + ':00').toString() ;
  var ur = 'https://erichsia7.github.io/Timer/d/?t1=' + date.yyyymmdd() + '&t2=' + gtu ;
document.querySelector('#url').value = ur ;
}
function copy() {
  document.querySelector('#url').select();
  document.execCommand("Copy");
}
ripple('.btn','#fff','0.4',1200,'true');
</script>
